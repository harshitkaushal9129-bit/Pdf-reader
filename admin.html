<!DOCTYPE html>
<html>
<head>
    <title>Realtime PDF Viewer</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; }
        iframe { width: 100%; height: 100vh; border: none; }
    </style>
</head>
<body>

    <div id="msg" style="text-align:center; margin-top:20px;">Waiting for PDF from Database...</div>
    <iframe id="viewer"></iframe>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAcmK0aCHIgLuFGRPm82GL-hEnLS8JjuKY",
            authDomain: "pdf-reader-650f5.firebaseapp.com",
            projectId: "pdf-reader-650f5",
            databaseURL: "https://pdf-reader-650f5-default-rtdb.firebaseio.com",
            appId: "1:163058397387:web:4cc94d2921706d1bf16b4e"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Database ko monitor karein
        database.ref('sharedPDF').on('value', (snapshot) => {
            const data = snapshot.val();
            if (data && data.pdfData) {
                document.getElementById('msg').style.display = 'none';
                document.getElementById('viewer').src = data.pdfData;
            }
        });
    </script>
</body>
</html>
