<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User - View PDF</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; background: #2c3e50; }
        iframe { width: 100%; height: 100vh; border: none; display: none; }
        .loading { color: white; text-align: center; margin-top: 20%; font-family: sans-serif; }
    </style>
</head>
<body>

    <div id="loader" class="loading">
        <h2>Waiting for Admin to upload...</h2>
    </div>

    <iframe id="pdfFrame"></iframe>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAcmK0aCHIgLuFGRPm82GL-hEnLS8JjuKY",
            authDomain: "pdf-reader-650f5.firebaseapp.com",
            projectId: "pdf-reader-650f5",
            databaseURL: "https://pdf-reader-650f5-default-rtdb.firebaseio.com",
            appId: "1:163058397387:web:4cc94d2921706d1bf16b4e"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Firebase se data 'listen' karna
        database.ref('livePDF').on('value', (snapshot) => {
            const data = snapshot.val();
            if (data && data.pdfData) {
                const frame = document.getElementById('pdfFrame');
                frame.src = data.pdfData;
                frame.style.display = "block";
                document.getElementById('loader').style.display = "none";
            }
        });
    </script>
</body>
</html>
